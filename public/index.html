<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Welcome Page</title>
    <!-- <link rel="stylesheet" href="./css/style.css" /> -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-red-400">
    <div
      class="h-screen flex flex-col justify-center items-center gap-3 text-slate-700">
      <div class="bg-white p-6 rounded-2xl flex gap-6 w-full max-w-4xl">
        <!-- Profile Upload and Text Box Section -->
        <div class="flex flex-col gap-6 w-1/2">
          <!-- Profile Upload Section -->
          <div class="aspect-square h-full">
            <div class="grid aspect-square grid-cols-3 grid-rows-3 gap-3">
              <!-- Large Image slot -->
              <div
                class="aspect-square col-span-2 row-span-2 w-full h-full bg-gray-200 rounded-xl flex items-center justify-center overflow-hidden relative">
                <img
                  id="profileImageLarge"
                  src="https://nupet.vn/wp-content/uploads/2023/10/hinh-nen-ngo-nghinh-anh-meo-cute-nupet-new-5.jpg"
                  alt="Large Profile"
                  class="w-full h-full object-cover" />
                <span id="placeholderTextLarge" class="hidden text-gray-500"
                  >+</span
                >
                <input
                  type="file"
                  id="imageUploadLarge"
                  class="hidden"
                  accept="image/*" />
              </div>
              <!-- Small Image slots -->
              <div
                class="w-full bg-gray-200 rounded-xl flex items-center justify-center overflow-hidden relative">
                <img
                  id="profileImage1"
                  src=""
                  alt="Profile 1"
                  class="hidden w-full h-full object-cover" />
                <span id="placeholderText1" class="text-gray-500">+</span>
                <input
                  type="file"
                  id="imageUpload1"
                  class="hidden"
                  accept="image/*" />
              </div>
              <div
                class="bg-gray-200 rounded-xl flex items-center justify-center overflow-hidden relative">
                <img
                  id="profileImage2"
                  src=""
                  alt="Profile 2"
                  class="hidden w-full h-full object-cover" />
                <span id="placeholderText2" class="text-gray-500">+</span>
                <input
                  type="file"
                  id="imageUpload2"
                  class="hidden"
                  accept="image/*" />
              </div>
              <div
                class="bg-gray-200 rounded-xl flex items-center justify-center overflow-hidden relative">
                <img
                  id="profileImage3"
                  src=""
                  alt="Profile 3"
                  class="hidden w-full h-full object-cover" />
                <span id="placeholderText3" class="text-gray-500">+</span>
                <input
                  type="file"
                  id="imageUpload3"
                  class="hidden"
                  accept="image/*" />
              </div>
              <div
                class="bg-gray-200 rounded-xl flex items-center justify-center overflow-hidden relative">
                <img
                  id="profileImage4"
                  src=""
                  alt="Profile 4"
                  class="hidden w-full h-full object-cover" />
                <span id="placeholderText4" class="text-gray-500">+</span>
                <input
                  type="file"
                  id="imageUpload4"
                  class="hidden"
                  accept="image/*" />
              </div>
              <div
                class="bg-gray-200 rounded-xl flex items-center justify-center overflow-hidden relative">
                <img
                  id="profileImage5"
                  src=""
                  alt="Profile 5"
                  class="hidden w-full h-full object-cover" />
                <span id="placeholderText5" class="text-gray-500">+</span>
                <input
                  type="file"
                  id="imageUpload5"
                  class="hidden"
                  accept="image/*" />
              </div>
            </div>
          </div>

          <!-- Text Box Section -->
          <div class="w-full">
            <label class="block">
              <span class="text-gray-700">About me</span>
              <textarea
                class="form-textarea mt-1 block w-full border-2 rounded-xl py-2 px-1"
                rows="3"
                placeholder="Enter any additional information here..."></textarea>
            </label>
          </div>
          <div class="flex justify-center">
            <a
              href="/edit-profile.html"
              title="Edit Profile"
              class="inline-flex items-center justify-center px-4 py-2 text-lg font-bold text-white transition-all duration-200 bg-blue-500 hover:bg-blue-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
              role="button"
              >Edit Profile</a
            >
          </div>
        </div>

        <!-- Form Section -->
        <div class="w-1/2">
          <h1 class="text-4xl font-bold">Bạn muốn gặp gỡ ai</h1>

          <div class="mt-4">
            <span class="text-gray-700">Đối tượng trò chuyện</span>
            <div class="mt-2">
              <label class="inline-flex items-center">
                <input
                  type="radio"
                  class="form-radio"
                  name="accountType"
                  value="male" />
                <span class="ml-2">Nam</span>
              </label>
              <label class="inline-flex items-center ml-6">
                <input
                  type="radio"
                  class="form-radio"
                  name="accountType"
                  value="female" />
                <span class="ml-2">Nữ</span>
              </label>
              <label class="inline-flex items-center ml-6">
                <input
                  type="radio"
                  class="form-radio"
                  name="accountType"
                  value="other" />
                <span class="ml-2">Khác</span>
              </label>
            </div>
          </div>

          <div class="mt-4">
            <label class="block">
              <span class="text-gray-700">Độ tuổi</span>
              <input
                type="range"
                min="18"
                max="100"
                value="25"
                class="form-range w-full mt-1"
                id="ageRange" />
              <div class="flex justify-between text-xs text-gray-600 mt-2">
                <span>18</span>
                <span id="ageValue">25</span>
                <span>100</span>
              </div>
            </label>
          </div>

          <div class="mt-4">
            <label class="block">
              <span class="text-gray-700">Chủ đề quan tâm</span>
              <select
                class="form-multiselect mt-1 block w-full border-2 rounded-xl py-2 px-1"
                id="topicSelect">
                <option value=""></option>
                <option value="tấtcả">Tất cả</option>
                <option value="âmnhạc">Âm nhạc</option>
                <option value="anime">Anime</option>
                <option value="bảotàng">Bảo tàng</option>
                <option value="boardgame">Board game</option>
                <option value="chơigame">Chơi game</option>
                <option value="chiêmtinh">Chiêm tinh</option>
                <option value="chó">Chó</option>
                <option value="concert">Concert</option>
                <option value="côngnghệ">Công nghệ</option>
                <option value="đồăn">Đồ ăn</option>
                <option value="độngvật">Động vật</option>
                <option value="dulịch">Du lịch</option>
                <option value="hànhđộng">Hành động</option>
                <option value="hài hước">Hài hước</option>
                <option value="hát">Hát</option>
                <option value="hiphop">Hip hop</option>
                <option value="hoạthình">Hoạt hình</option>
                <option value="học">Học</option>
                <option value="huyềnảo">Huyền ảo</option>
                <option value="kinhdị">Kinh dị</option>
                <option value="khoahọc">Khoa học</option>
                <option value="lãngmạn">Lãng mạn</option>
                <option value="lịchsử">Lịch sử</option>
                <option value="lờikhuyênchomốiquanhệ">
                  Lời khuyên cho mối quan hệ
                </option>
                <option value="mèo">Mèo</option>
                <option value="meme">Meme</option>
                <option value="metal">Metal</option>
                <option value="nấuăn">Nấu ăn</option>
                <option value="nghệthuật">Nghệ thuật</option>
                <option value="ngoàitrời">Ngoài trời</option>
                <option value="ngônngữ">Ngôn ngữ</option>
                <option value="nhiếpảnh">Nhiếp ảnh</option>
                <option value="nướngbánh">Nướng bánh</option>
                <option value="phim">Phim</option>
                <option value="phimhài">Phim hài</option>
                <option value="pop">Pop</option>
                <option value="rap">Rap</option>
                <option value="rock">Rock</option>
                <option value="sách">Sách</option>
                <option value="thiềnđịnh">Thiền định</option>
                <option value="tâmlýhọc">Tâm lý học</option>
                <option value="tiệních">Tiện ích</option>
                <option value="trinhthám">Trinh thám</option>
                <option value="triếtlý">Triết lý</option>
                <option value="vănhoá">Văn hoá</option>
                <option value="vật lý">Vật lý</option>
                <option value="vẽ">Vẽ</option>
                <option value="video">Video</option>
                <option value="viết">Viết</option>
                <option value="vũtrụ">Vũ trụ</option>
              </select>
            </label>
            <div class="mt-2">
              <span class="text-gray-700">Chủ đề đã chọn:</span>
              <div id="selectedTopics" class="flex flex-wrap gap-2 mt-2">
                <!-- Selected topics will appear here -->
              </div>
            </div>
          </div>

          <div class="relative inline-flex group mt-4 mx-auto">
            <div
              class="absolute transition-all duration-1000 opacity-70 -inset-px rounded-xl blur-lg group-hover:opacity-100 group-hover:-inset-1 group-hover:duration-200 animate-tilt"></div>
            <a
              href="/meet-the-strangers.html"
              title="Get quote now"
              class="relative inline-flex items-center justify-center px-8 py-4 text-lg font-bold text-white transition-all duration-200 bg-gray-900 font-pj rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900"
              role="button"
              >Enter now
            </a>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const ageRange = document.getElementById('ageRange');
        const ageValue = document.getElementById('ageValue');
        const topicSelect = document.getElementById('topicSelect');
        const selectedTopics = document.getElementById('selectedTopics');

        const selectedTopicsArray = [];

        const saveToLocalStorage = () => {
          localStorage.setItem(
            'selectedTopics',
            JSON.stringify(selectedTopicsArray),
          );
        };

        ageRange.addEventListener('input', function () {
          ageValue.textContent = ageRange.value;
        });

        function addTopic(topic) {
          if (!topic || selectedTopicsArray.includes(topic)) return;

          selectedTopicsArray.push(topic);

          const topicSpan = document.createElement('span');
          topicSpan.className =
            'inline-flex items-center gap-2 py-1.5 px-3 rounded-full text-sm font-medium bg-blue-100 text-blue-700';
          topicSpan.textContent = topic;

          const removeButton = document.createElement('button');
          removeButton.className = 'ml-2 text-blue-500 hover:text-blue-700';
          removeButton.textContent = 'x';
          removeButton.addEventListener('click', function () {
            selectedTopics.removeChild(topicSpan);
            selectedTopicsArray.splice(selectedTopicsArray.indexOf(topic), 1);
            saveTopicsToLocalStorage();
          });

          topicSpan.appendChild(removeButton);
          selectedTopics.appendChild(topicSpan);
          saveTopicsToLocalStorage();
        }

        function saveTopicsToLocalStorage() {
          const topics = Array.from(selectedTopics.children).map(child =>
            child.textContent.slice(0, -1),
          ); // Remove 'x' button text
          localStorage.setItem('selectedTopics', JSON.stringify(topics));
        }

        function loadTopicsFromLocalStorage() {
          const savedTopics = JSON.parse(
            localStorage.getItem('selectedTopics'),
          );
          if (savedTopics) {
            savedTopics.forEach(topic => addTopic(topic));
          }
        }

        topicSelect.addEventListener('change', function () {
          addTopic(topicSelect.value);
          saveTopicsToLocalStorage();
        });

        const handleImageUpload = (inputId, imgId, placeholderId) => {
          const input = document.getElementById(inputId);
          const img = document.getElementById(imgId);
          const placeholder = document.getElementById(placeholderId);

          input.addEventListener('change', function () {
            const file = input.files[0];
            if (file) {
              const reader = new FileReader();
              reader.onload = function (e) {
                img.src = e.target.result;
                img.classList.remove('hidden');
                placeholder.classList.add('hidden');
              };
              reader.readAsDataURL(file);
            }
          });

          const div = input.parentElement;
          div.addEventListener('click', () => {
            input.click();
          });
        };

        handleImageUpload(
          'imageUploadLarge',
          'profileImageLarge',
          'placeholderTextLarge',
        );
        for (let i = 1; i <= 5; i++) {
          handleImageUpload(
            `imageUpload${i}`,
            `profileImage${i}`,
            `placeholderText${i}`,
          );
        }

        loadTopicsFromLocalStorage();
      });
    </script>
  </body>
</html>
